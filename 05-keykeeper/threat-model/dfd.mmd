---
title: Data Flow Diagram - KeyKeeper (Mermaid)
---
flowchart LR
    U[User Browser<br/>(Client)]
    FE[Frontend UI<br/>(React)]
    API[API Server<br/>(Express)]
    AUTH[Auth Middleware<br/>(JWT)]
    DB[(Database)]
    LOG[Audit Log]

    %% Authentication
    U -->|Login Credentials| FE
    FE -->|POST /login| API
    API -->|JWT Issued| FE

    %% Page Load (Metadata Only)
    FE -->|GET /items<br/>(No secretValue)| API
    API --> AUTH
    AUTH --> API
    API -->|Secret Metadata| FE

    %% Explicit Reveal Flow
    FE -->|POST /items/:id/reveal| API
    API --> AUTH
    AUTH --> API
    API -->|Authorized?| API
    API -->|Fetch Secret| DB
    API -->|Log Access| LOG
    API -->|Return secretValue| FE

    %% Database Storage
    DB -->|Encrypted Secrets| DB

